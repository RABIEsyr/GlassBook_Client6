{"remainingRequest":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/uploadPhoto/UploadPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/uploadPhoto/UploadPhoto.vue","mtime":1607328282528},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi8uLi8uLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIHdpbmRvd1dpZHRoYTogd2luZG93LmlubmVyV2lkdGgsCiAgICAgIGlzRmlsZVNlbGVjdGVkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRmlsZVNlbGVjdGVkOiBmdW5jdGlvbiBvbkZpbGVTZWxlY3RlZChldmVudCkgewogICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIG91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdXRwdXQiKTsKICAgICAgb3V0cHV0LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgY29uc29sZS5sb2coIlVwbG9hZFBob3RvIDIzNDogb3V0IHNyYyIsIG91dHB1dC5zcmMpOwogICAgICB0aGlzLmlzRmlsZVNlbGVjdGVkID0gdHJ1ZTsKCiAgICAgIG91dHB1dC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7fTsKICAgIH0sCiAgICBvblVwbG9hZDogZnVuY3Rpb24gb25VcGxvYWQoKSB7CiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmZC5hcHBlbmQoImZpbGUiLCB0aGlzLnNlbGVjdGVkRmlsZSwgdGhpcy5zZWxlY3RlZEZpbGUubmFtZSk7CiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91cGxvYWQtcGhvdG8iLCBmZCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBldmVudEJ1cy4kZW1pdCgicGhvdG9DaGFuZ2VkIiwgcmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJVcGxvYWRwaG90by52dWUiLCB0aGlzLndpbmRvd1dpZHRoYSk7CiAgICAgIHRoaXMud2luZG93V2lkdGhhID0gd2luZG93LmlubmVyV2lkdGg7CiAgICB9LAogICAgZ2V0UGljdHVyZTogZnVuY3Rpb24gZ2V0UGljdHVyZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlclNyY2hQaWM7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySUQiKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyU2VhcmNoUGljIiwgdXNlcklkKTsKICB9LAogIHdhdGNoOiB7CiAgICB3aW5kb3dXaWR0aGE6IGZ1bmN0aW9uIHdpbmRvd1dpZHRoYShvbGRXaWR0aCwgbmV3V2lkdGgpIHsKICAgICAgdGhpcy50eHQgPSAiaXQgY2hhbmdlZCB0byAiLmNvbmNhdChuZXdXaWR0aCwgIiBmcm9tICIpLmNvbmNhdChvbGRXaWR0aCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBfdGhpcy5vblJlc2l6ZSk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5vblJlc2l6ZSk7CiAgfQp9Ow=="},{"version":3,"sources":["UploadPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,MAAA,CAAA,UAFA;AAGA,MAAA,cAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,KADA,EACA;AACA,WAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,QAAA,CAAA;AACA,MAAA,MAAA,CAAA,GAAA,GAAA,GAAA,CAAA,eAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,0BAAA,EAAA,MAAA,CAAA,GAAA;AAEA,WAAA,cAAA,GAAA,IAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,YAAA,CAAA,CAAA;AACA,KATA;AAUA,IAAA,QAVA,sBAUA;AACA,UAAA,EAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,YAAA,EAAA,KAAA,YAAA,CAAA,IAAA;AAEA,MAAA,KAAA,CACA,IADA,CACA,oCADA,EACA,EADA,EACA;AACA,QAAA,OAAA,EAAA;AAAA,UAAA,aAAA,EAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AADA,OADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,cAAA,EAAA,GAAA,CAAA,IAAA;AACA,OANA;AAOA,KArBA;AAsBA,IAAA,QAtBA,sBAsBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAAA,YAAA;AACA,WAAA,YAAA,GAAA,MAAA,CAAA,UAAA;AACA,KAzBA;AA0BA,IAAA,UA1BA,wBA0BA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,cAAA;AACA;AA5BA,GATA;AAuCA,EAAA,OAvCA,qBAuCA;AACA,QAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA,MAAA;AACA,GA1CA;AA4CA,EAAA,KAAA,EAAA;AACA,IAAA,YADA,wBACA,QADA,EACA,QADA,EACA;AACA,WAAA,GAAA,2BAAA,QAAA,mBAAA,QAAA;AACA;AAHA,GA5CA;AAiDA,EAAA,OAjDA,qBAiDA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA;AACA,KAFA;AAGA,GArDA;AAsDA,EAAA,aAtDA,2BAsDA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,QAAA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n  <!-- <v-container class=\"center\">\n     <v-row v-if=\"windowWidth > 404\">\n      <v-col class=\"input-file1\">\n        <label for=\"upload-photo\">Browse...</label>\n        <input type=\"file\" id=\"upload-photo\" @change=\"onFileSelected($event)\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-else>\n      <v-col class=\"input-file2\">\n        <label for=\"upload-photo\">Browse...</label>\n        <input type=\"file\" id=\"upload-photo\" @change=\"onFileSelected($event)\" />\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <img id=\"output\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-if=\"isFileSelected\">\n      <v-col>\n        <v-btn color=\"primary\" @click=\"onUpload\">Upload</v-btn>\n      </v-col>\n    </v-row>\n  </v-container>  -->\n\n  <div class=\"main-upload-photo-div\">\n    <v-container>\n      <v-form ref=\"form\" lazy-validation :class=\"['form-image']\">\n        <v-row>\n          <label for=\"image\">\n            <input\n              type=\"file\"\n              @change=\"onFileSelected($event)\"\n              name=\"image\"\n              id=\"image\"\n              style=\"display: none\"\n            />\n            <img\n              id=\"output\"\n              :src=\"getPicture()\"\n              :class=\"['img-cus']\"\n              height=\"100\"\n              width=\"200\"\n            />\n          </label>\n        </v-row>\n        <v-row>\n          <v-btn  class=\"upload-btn\" @click=\"onUpload\">\n            UPLAOD\n          </v-btn>\n        </v-row>\n      </v-form>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"./../../main\";\n\nexport default {\n  data: function () {\n    return {\n      selectedFile: null,\n      windowWidtha: window.innerWidth,\n      isFileSelected: false,\n    };\n  },\n\n  methods: {\n    onFileSelected(event) {\n      this.selectedFile = event.target.files[0];\n      var output = document.getElementById(\"output\");\n      output.src = URL.createObjectURL(event.target.files[0]);\n      console.log(\"UploadPhoto 234: out src\", output.src);\n\n      this.isFileSelected = true;\n      output.onload = function () {};\n    },\n    onUpload() {\n      const fd = new FormData();\n      fd.append(\"file\", this.selectedFile, this.selectedFile.name);\n\n      axios\n        .post(\"http://localhost:3000/upload-photo\", fd, {\n          headers: { authorization: localStorage.getItem(\"token\") },\n        })\n        .then((res) => {\n          eventBus.$emit(\"photoChanged\", res.data);\n        });\n    },\n    onResize() {\n      console.log(\"Uploadphoto.vue\", this.windowWidtha);\n      this.windowWidtha = window.innerWidth;\n    },\n    getPicture() {\n      return this.$store.getters.getUserSrchPic;\n    },\n  },\n  created() {\n    let userId = localStorage.getItem(\"userID\");\n    this.$store.dispatch(\"getUserSearchPic\", userId);\n  },\n\n  watch: {\n    windowWidtha(oldWidth, newWidth) {\n      this.txt = `it changed to ${newWidth} from ${oldWidth}`;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener(\"resize\", this.onResize);\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n};\n</script>\n\n<style scoped>\nimg {\n  border-radius: 50%;\n  margin-bottom: 50px;\n  max-height: 200px;\n}\n\n.center {\n  text-align: center;\n  padding: 0 0 0 0;\n}\n\n.input-file1 {\n  padding-left: 150px;\n}\n\nlabel {\n  cursor: pointer;\n  padding-right: 110px;\n  color: #1976d2;\n}\n\n#upload-photo {\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n}\n\n.form-g {\n  box-shadow: 1px 1px rgb(231, 186, 186);\n  border: 1px solid;\n  padding: 10px;\n  width: 300px;\n  height: 200px;\n  text-align: center;\n}\n\n.img-cus {\n  border-radius: 50%;\n}\n.main-upload-photo-div {\n  margin-left: 40%;\n  margin-top: 20%;\n}\n.upload-btn {\n  margin-left: 40px;\n  margin-top: 10px;\n  color: #fff;\n  background-color: #1976d2 !important;\n}\n\n.form-image {\n  /* background-color:#5b86d6;\n  text-align: center; */\n}\n</style>"],"sourceRoot":"src/components/uploadPhoto"}]}
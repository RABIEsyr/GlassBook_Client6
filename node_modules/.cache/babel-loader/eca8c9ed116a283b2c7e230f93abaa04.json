{"remainingRequest":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/friendRequest/friendRequest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/friendRequest/friendRequest.vue","mtime":1607328282528},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcmFiaWUvRGVza3RvcC9lZWUvR2xhc3NCb29rMi9jbGllbnQvZ2xhc3MtYm9vay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwppbXBvcnQgKiBhcyB0eXBlcyBmcm9tICIuLi8uLi9zdG9yZS90eXBlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29ja2V0OiBpbygiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwgewogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICB9CiAgICAgIH0pCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIHJlcXVlc3Q6IHR5cGVzLkdFVF9GUklFTkRfUkVRVUVTVCwKICAgIHJlbW92ZVJlcXVlc3RPbmU6IHR5cGVzLlJFTU9WRV9BRERfUkVRVUVTVF9PTkUKICB9KSksIHt9LCB7CiAgICBhZGRGcmllbmQ6IGZ1bmN0aW9uIGFkZEZyaWVuZChpZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh0eXBlcy5TVUJNSVRfRlJJRU5EX1JFUVVFU1QsIGlkKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KHR5cGVzLlJFTU9WRV9BRERfUkVRVUVTVCwgaWQpOwogICAgICB0aGlzLmh0dHBGcmllbmRSZXF1ZXN0OwogICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEZyaWVuZFJlcXVlc3RMZW5ndGg7CiAgICB9LAogICAgcmVtb3ZlU3VibWl0dGVkRnJpZW5kUmVxdWVzdDogZnVuY3Rpb24gcmVtb3ZlU3VibWl0dGVkRnJpZW5kUmVxdWVzdCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2godHlwZXMuUkVNT1ZFX1NVQk1JVFRFRF9SRVFVRVNUX0ZSSUVORCk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgaHR0cEZyaWVuZFJlcXVlc3Q6IHR5cGVzLkdFVF9GUklFTkRfUkVRVUVTVAogIH0pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnJlcXVlc3QoKTsKICAgIHNldFRpbWVvdXQodGhpcy5yZW1vdmVTdWJtaXR0ZWRGcmllbmRSZXF1ZXN0LCAxMDAwKTsKICAgIHRoaXMuc29ja2V0Lm9uKCJnZXQtZnItcmVxLWRhdGEiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2godHlwZXMuR0VUX0ZSSUVORF9SRVFVRVNUKTsKCiAgICAgIGNvbnNvbGUubG9nKCJmcmllbmRSZXFldXN0LnZ1ZSA3Njc2IiwgZGF0YSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["friendRequest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,EAAA,MAAA,kBAAA;AACA,OAAA,KAAA,KAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EAAA,CAAA,uBAAA,EAAA;AACA,QAAA,KAAA,EAAA;AAAA,UAAA,KAAA,EAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AADA,OAAA;AADA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,OAAA,EAAA,KAAA,CAAA,kBADA;AAEA,IAAA,gBAAA,EAAA,KAAA,CAAA;AAFA,GAAA,CADA;AAKA,IAAA,SALA,qBAKA,EALA,EAKA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,qBAAA,EAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,EAAA;AACA,WAAA,iBAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,sBAAA;AAEA,KAXA;AAYA,IAAA,4BAZA,0CAYA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,+BAAA;AACA;AAdA,IARA;AAwBA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,iBAAA,EAAA,KAAA,CAAA;AADA,GAAA,CADA,CAxBA;AA6BA,EAAA,OA7BA,qBA6BA;AAAA;;AACA,SAAA,OAAA;AACA,IAAA,UAAA,CAAA,KAAA,4BAAA,EAAA,IAAA,CAAA;AAEA,SAAA,MAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,kBAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,IAAA;AACA,KAHA;AAIA;AArCA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-list subheader>\n      <v-subheader>Friend Requests</v-subheader>\n\n      <v-list-item v-for=\"user in httpFriendRequest\" :key=\"user.id\">\n        <v-list-item-avatar>\n          <v-img\n            :alt=\"`${user.name} avatar`\"\n            :src=\"'data:image/PNG;base64,' + user.image\"\n          ></v-img>\n        </v-list-item-avatar>\n\n        <v-list-item-content>\n          <v-list-item-title v-text=\"user.name\"></v-list-item-title>\n        </v-list-item-content>\n\n        <v-list-item-icon>\n          <v-btn\n            @click=\"addFriend(user.id)\"\n            class=\"mx-2\"\n            fab\n            dark\n            small\n            color=\"primary\"\n          >\n            <v-icon dark> mdi-plus </v-icon>\n          </v-btn>\n          <v-btn \n          @click=\"removeRequestOne(user.id)\"\n          class=\"mx-2\" fab dark small color=\"red\">\n            <v-icon dark> mdi-minus </v-icon>\n          </v-btn>\n        </v-list-item-icon>\n      </v-list-item>\n    </v-list>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport io from \"socket.io-client\";\nimport * as types from \"../../store/types\";\n\nexport default {\n  data() {\n    return {\n      socket: io(\"http://localhost:3000\", {\n        query: { token: localStorage.getItem(\"token\") },\n      }),\n    };\n  },\n  methods: {\n    ...mapActions({\n      request: types.GET_FRIEND_REQUEST,\n      removeRequestOne: types.REMOVE_ADD_REQUEST_ONE\n    }),\n    addFriend(id) {\n      this.$store.dispatch(types.SUBMIT_FRIEND_REQUEST, id);\n      this.$store.commit(types.REMOVE_ADD_REQUEST, id);\n      this.httpFriendRequest\n      this.$store.getters.getFriendRequestLength\n\n    },\n    removeSubmittedFriendRequest() {\n      this.$store.dispatch(types.REMOVE_SUBMITTED_REQUEST_FRIEND);\n    },\n  },\n  computed: {\n    ...mapGetters({\n      httpFriendRequest: types.GET_FRIEND_REQUEST,\n    }),\n  },\n  created() {\n    this.request();\n    setTimeout(this.removeSubmittedFriendRequest, 1000);\n\n    this.socket.on(\"get-fr-req-data\", (data) => {\n      this.$store.dispatch(types.GET_FRIEND_REQUEST);\n      console.log(\"friendReqeust.vue 7676\", data);\n    });\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/components/friendRequest"}]}
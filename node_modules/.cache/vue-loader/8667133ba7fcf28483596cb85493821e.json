{"remainingRequest":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/uploadPhoto/UploadPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/uploadPhoto/UploadPhoto.vue","mtime":1607328282528},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi8uLi8uLi9tYWluIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIHdpbmRvd1dpZHRoYTogd2luZG93LmlubmVyV2lkdGgsCiAgICAgIGlzRmlsZVNlbGVjdGVkOiBmYWxzZSwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgb25GaWxlU2VsZWN0ZWQoZXZlbnQpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIHZhciBvdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3V0cHV0Iik7CiAgICAgIG91dHB1dC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGV2ZW50LnRhcmdldC5maWxlc1swXSk7CiAgICAgIGNvbnNvbGUubG9nKCJVcGxvYWRQaG90byAyMzQ6IG91dCBzcmMiLCBvdXRwdXQuc3JjKTsKCiAgICAgIHRoaXMuaXNGaWxlU2VsZWN0ZWQgPSB0cnVlOwogICAgICBvdXRwdXQub25sb2FkID0gZnVuY3Rpb24gKCkge307CiAgICB9LAogICAgb25VcGxvYWQoKSB7CiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZkLmFwcGVuZCgiZmlsZSIsIHRoaXMuc2VsZWN0ZWRGaWxlLCB0aGlzLnNlbGVjdGVkRmlsZS5uYW1lKTsKCiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91cGxvYWQtcGhvdG8iLCBmZCwgewogICAgICAgICAgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgZXZlbnRCdXMuJGVtaXQoInBob3RvQ2hhbmdlZCIsIHJlcy5kYXRhKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvblJlc2l6ZSgpIHsKICAgICAgY29uc29sZS5sb2coIlVwbG9hZHBob3RvLnZ1ZSIsIHRoaXMud2luZG93V2lkdGhhKTsKICAgICAgdGhpcy53aW5kb3dXaWR0aGEgPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIH0sCiAgICBnZXRQaWN0dXJlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVc2VyU3JjaFBpYzsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgbGV0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySUQiKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyU2VhcmNoUGljIiwgdXNlcklkKTsKICB9LAoKICB3YXRjaDogewogICAgd2luZG93V2lkdGhhKG9sZFdpZHRoLCBuZXdXaWR0aCkgewogICAgICB0aGlzLnR4dCA9IGBpdCBjaGFuZ2VkIHRvICR7bmV3V2lkdGh9IGZyb20gJHtvbGRXaWR0aH1gOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLm9uUmVzaXplKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLm9uUmVzaXplKTsKICB9LAp9Owo="},{"version":3,"sources":["UploadPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadPhoto.vue","sourceRoot":"src/components/uploadPhoto","sourcesContent":["<template>\n  <!-- <v-container class=\"center\">\n     <v-row v-if=\"windowWidth > 404\">\n      <v-col class=\"input-file1\">\n        <label for=\"upload-photo\">Browse...</label>\n        <input type=\"file\" id=\"upload-photo\" @change=\"onFileSelected($event)\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-else>\n      <v-col class=\"input-file2\">\n        <label for=\"upload-photo\">Browse...</label>\n        <input type=\"file\" id=\"upload-photo\" @change=\"onFileSelected($event)\" />\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <img id=\"output\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-if=\"isFileSelected\">\n      <v-col>\n        <v-btn color=\"primary\" @click=\"onUpload\">Upload</v-btn>\n      </v-col>\n    </v-row>\n  </v-container>  -->\n\n  <div class=\"main-upload-photo-div\">\n    <v-container>\n      <v-form ref=\"form\" lazy-validation :class=\"['form-image']\">\n        <v-row>\n          <label for=\"image\">\n            <input\n              type=\"file\"\n              @change=\"onFileSelected($event)\"\n              name=\"image\"\n              id=\"image\"\n              style=\"display: none\"\n            />\n            <img\n              id=\"output\"\n              :src=\"getPicture()\"\n              :class=\"['img-cus']\"\n              height=\"100\"\n              width=\"200\"\n            />\n          </label>\n        </v-row>\n        <v-row>\n          <v-btn  class=\"upload-btn\" @click=\"onUpload\">\n            UPLAOD\n          </v-btn>\n        </v-row>\n      </v-form>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"./../../main\";\n\nexport default {\n  data: function () {\n    return {\n      selectedFile: null,\n      windowWidtha: window.innerWidth,\n      isFileSelected: false,\n    };\n  },\n\n  methods: {\n    onFileSelected(event) {\n      this.selectedFile = event.target.files[0];\n      var output = document.getElementById(\"output\");\n      output.src = URL.createObjectURL(event.target.files[0]);\n      console.log(\"UploadPhoto 234: out src\", output.src);\n\n      this.isFileSelected = true;\n      output.onload = function () {};\n    },\n    onUpload() {\n      const fd = new FormData();\n      fd.append(\"file\", this.selectedFile, this.selectedFile.name);\n\n      axios\n        .post(\"http://localhost:3000/upload-photo\", fd, {\n          headers: { authorization: localStorage.getItem(\"token\") },\n        })\n        .then((res) => {\n          eventBus.$emit(\"photoChanged\", res.data);\n        });\n    },\n    onResize() {\n      console.log(\"Uploadphoto.vue\", this.windowWidtha);\n      this.windowWidtha = window.innerWidth;\n    },\n    getPicture() {\n      return this.$store.getters.getUserSrchPic;\n    },\n  },\n  created() {\n    let userId = localStorage.getItem(\"userID\");\n    this.$store.dispatch(\"getUserSearchPic\", userId);\n  },\n\n  watch: {\n    windowWidtha(oldWidth, newWidth) {\n      this.txt = `it changed to ${newWidth} from ${oldWidth}`;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener(\"resize\", this.onResize);\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n};\n</script>\n\n<style scoped>\nimg {\n  border-radius: 50%;\n  margin-bottom: 50px;\n  max-height: 200px;\n}\n\n.center {\n  text-align: center;\n  padding: 0 0 0 0;\n}\n\n.input-file1 {\n  padding-left: 150px;\n}\n\nlabel {\n  cursor: pointer;\n  padding-right: 110px;\n  color: #1976d2;\n}\n\n#upload-photo {\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n}\n\n.form-g {\n  box-shadow: 1px 1px rgb(231, 186, 186);\n  border: 1px solid;\n  padding: 10px;\n  width: 300px;\n  height: 200px;\n  text-align: center;\n}\n\n.img-cus {\n  border-radius: 50%;\n}\n.main-upload-photo-div {\n  margin-left: 40%;\n  margin-top: 20%;\n}\n.upload-btn {\n  margin-left: 40px;\n  margin-top: 10px;\n  color: #fff;\n  background-color: #1976d2 !important;\n}\n\n.form-image {\n  /* background-color:#5b86d6;\n  text-align: center; */\n}\n</style>"]}]}
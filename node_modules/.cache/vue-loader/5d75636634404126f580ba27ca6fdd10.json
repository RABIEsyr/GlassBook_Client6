{"remainingRequest":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/post/post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/src/components/post/post.vue","mtime":1607328282528},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rabie/Desktop/eee/GlassBook2/client/glass-book/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKLy8gaW1wb3J0IHR5cGVzIGZyb20gJy4uLy4uL3N0b3JlL3R5cGVzJwppbXBvcnQgaW8gZnJvbSAic29ja2V0LmlvLWNsaWVudCI7CgppbXBvcnQgKiBhcyBUeXBlcyBmcm9tICIuLi8uLi9zdG9yZS90eXBlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IFN0cmluZywKICAgIHRleHQ6IFN0cmluZywKICAgIGltYWdlOiBTdHJpbmcsCiAgICBjb21tZW50c0FycjogQXJyYXksCiAgICBpdGVtczogW10sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgY29tbWVudDogIiIsCiAgICAgIHNob3dIaWRlUG9zdHM6IGZhbHNlLAogICAgICAgc29ja2V0OiBpbygiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwgewogICAgICAgIHF1ZXJ5OiB7IHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB9LAogICAgfSksCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgLy8gZ2V0Q29tbWVudHNHZXR0ZXI6IFR5cGVzLkdFVF9DT01NRU5UUywKICAgIH0pLAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgIC8vIGFkZENvbW1lbnQ6IFR5cGVzLkFERF9DT01NRU5ULAogICAgICBnZXRDb21tZXRzOiBUeXBlcy5HRVRfQ09NTUVOVFMsCiAgICAgCiAgICB9KSwKICAgICBhZGRDb21tZW50KGRhdGEpIHsKICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ25ldy1jb21tZW50JywgZGF0YSkKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdBcHAudnVlIGFkZENvbW1lbnQ1NTUnLCBkYXRhKQogICAgICB9LAogICAgc2hvd1Bvc3RzKCkgewogICAgICB0aGlzLnNob3dIaWRlUG9zdHMgPSAhdGhpcy5zaG93SGlkZVBvc3RzOwogICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBvc3RzCiAgICB9LAogIH0sCiBjcmVhdGVkKCkgewogICAKICAgdGhpcy5zb2NrZXQub24oJ25ldy1jb21tZW50LXBvc3RlZCcsICBkYXRhID0+IHsKICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZENvbW1lbnQnLCBkYXRhKQogICB9KQoKIH0KfTsK"},{"version":3,"sources":["post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"post.vue","sourceRoot":"src/components/post","sourcesContent":["<template>\n  <v-layout row wrap align-center>\n    <v-flex xs12 sm10 md9 lg6 xlg6 offset-md2>\n      <div>\n        <v-card class=\"my-3\" hover>\n          <v-img height=\"350px\" :src=\"image\" alt=\"no image\"></v-img>\n          <v-container fill-height fluid>\n            <v-layout>\n              <v-flex xs12 align-end d-flex>\n                <span class=\"headline\"> {{ text }} </span>\n              </v-flex>\n            </v-layout>\n          </v-container>\n          <v-card-text> description </v-card-text>\n          <v-card-actions>\n            <v-row style=\"padding: 10px\">\n              <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">\n                    Commnet\n                  </v-btn>\n                </template>\n                <v-card>\n                  <v-card-title>\n                    <span class=\"headline\">comment</span>\n                  </v-card-title>\n                  <v-card-text>\n                    <v-container>\n                      <v-row>\n                        <v-col cols=\"12\">\n                          <v-text-field\n                            label=\"leave comment\"\n                            required\n                            v-model=\"comment\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n                      Close\n                    </v-btn>\n                    <v-btn\n                      color=\"blue darken-1\"\n                      text\n                      @click=\"\n                        addComment({ comment: comment, postID: id });\n                        dialog = false;\n                      \"\n                    >\n                      Save\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-row>\n            <!--  -->\n            <v-spacer></v-spacer>\n            <v-btn icon class=\"red--text\">\n              <v-icon small>fa-reddit</v-icon>\n            </v-btn>\n            <v-btn icon class=\"light-blue--text\">\n              <v-icon small>fa-twitter</v-icon>\n            </v-btn>\n            <v-btn icon class=\"blue--text text--darken-4\">\n              <v-icon small>fa-facebook</v-icon>\n            </v-btn>\n            <v-btn icon class=\"red--text\">\n              <v-icon small>fa-google-plus</v-icon>\n            </v-btn>\n            <v-btn icon class=\"blue--text text--darken-4\">\n              <v-icon small>fa-linkedin</v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n\n            <v-btn small replace color=\"info\" href=\"'image.url'\" target=\"_blank\"\n              >Read More</v-btn\n            >\n          </v-card-actions>\n\n          <v-row align=\"center\">\n            <v-col cols=\"12\">\n              <div id=\"root\">\n                <v-card @click=\"showPosts\" class=\"mx-auto\">\n                  <v-toolbar color=\"cyan\" dark>\n                    <v-app-bar-nav-icon></v-app-bar-nav-icon>\n\n                    <v-toolbar-title>Comments</v-toolbar-title>\n\n                    <v-spacer></v-spacer>\n\n                    <v-btn icon>\n                      <v-icon>mdi-magnify</v-icon>\n                    </v-btn>\n                  </v-toolbar>\n\n                  <v-list v-if=\"showHidePosts\" three-line>\n                    <template v-for=\"(item, index) in commentsArr\">\n                      <v-subheader\n                        v-if=\"item.header\"\n                        :key=\"item.header\"\n                        v-text=\"item.header\"\n                      ></v-subheader>\n\n                      <v-divider :key=\"index\" :inset=\"item.inset\"></v-divider>\n\n                      <v-list-item :key=\"item.title\">\n                        <v-list-item-avatar>\n                          <v-img\n                            :src=\"\n                              'http://localhost:3000/profile-image/' +\n                              item.user +\n                              '.PNG'\"\n                          ></v-img>\n                        </v-list-item-avatar>\n\n                        <v-list-item-content>\n                          <v-list-item-title\n                            v-html=\"item.content\"\n                          ></v-list-item-title>\n                         \n                            {{item.date | date}}\n                         \n                        </v-list-item-content>\n                      </v-list-item>\n                    </template>\n                  </v-list>\n                </v-card>\n              </div>\n            </v-col>\n          </v-row>\n        </v-card>\n      </div>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\n// import types from '../../store/types'\nimport io from \"socket.io-client\";\n\nimport * as Types from \"../../store/types\";\nexport default {\n  props: {\n    id: String,\n    text: String,\n    image: String,\n    commentsArr: Array,\n    items: [],\n  },\n  data() {\n    return {\n      dialog: false,\n      comment: \"\",\n      showHidePosts: false,\n       socket: io(\"http://localhost:3000\", {\n        query: { token: localStorage.getItem(\"token\") },\n    }),\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      // getCommentsGetter: Types.GET_COMMENTS,\n    }),\n  },\n  methods: {\n    ...mapActions({\n      // addComment: Types.ADD_COMMENT,\n      getCommets: Types.GET_COMMENTS,\n     \n    }),\n     addComment(data) {\n       this.socket.emit('new-comment', data)\n          // console.log('App.vue addComment555', data)\n      },\n    showPosts() {\n      this.showHidePosts = !this.showHidePosts;\n      this.$store.getters.getPosts\n    },\n  },\n created() {\n   \n   this.socket.on('new-comment-posted',  data => {\n     this.$store.commit('addComment', data)\n   })\n\n }\n};\n</script>\n\n<style scoped>\n</style>"]}]}